<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ÙÙˆÙ† | Ù„ÙŠØ¨ÙŠØ§</title>
    <style>
        :root {
            --bg-body: #0f172a; --card-bg: #1e293b; --accent: #a2d149;
            --text: #f8fafc; --danger: #ef4444; --whatsapp: #25d366;
        }

        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg-body); color: var(--text); margin: 0; }

        /* Navigation */
        nav {
            background: var(--card-bg); padding: 15px 5%; display: flex; justify-content: space-between;
            align-items: center; border-bottom: 2px solid var(--accent); position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-size: 1.5em; font-weight: bold; color: var(--accent); text-decoration: none; }
        .nav-links button { background: none; border: none; color: white; margin: 0 5px; cursor: pointer; font-size: 1em; }
        .nav-links button.active { color: var(--accent); font-weight: bold; }

        .container { max-width: 1200px; margin: 20px auto; padding: 0 15px; }
        .page { display: none; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }

        /* Hero & Stats */
        .hero { 
            text-align: center; padding: 50px 20px; border-radius: 20px; 
            background: linear-gradient(45deg, #1e293b, #0f172a); border: 1px solid rgba(162, 209, 73, 0.2);
            margin-bottom: 20px;
        }
        .visitor-stats {
            background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px;
            margin: 20px auto; max-width: 600px; border: 1px dashed var(--accent);
        }

        /* Products Grid */
        .products-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; 
        }

        .product-card { 
            background: var(--card-bg); border-radius: 15px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; display: flex; flex-direction: column;
        }
        .product-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .product-img { width: 100%; height: 180px; object-fit: contain; background: #fff; padding: 10px; box-sizing: border-box; }
        .product-info { padding: 15px; text-align: center; }
        .price-usd { font-size: 1.4em; color: var(--accent); font-weight: bold; }
        .price-lyd { color: #94a3b8; font-size: 0.9em; margin-bottom: 12px; }

        .btn { padding: 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; width: 100%; transition: 0.2s; }
        .btn-buy { background: var(--whatsapp); color: white; }
        .btn-cat { background: var(--card-bg); color: white; border: 1px solid var(--accent); margin-bottom: 10px; }

        /* Admin Forms */
        .admin-box { background: var(--card-bg); padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        input, select { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (max-width: 600px) {
            .products-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }
            .product-img { height: 140px; }
            .hero h1 { font-size: 1.8em; }
        }
    </style>
</head>
<body>

<nav>
    <a href="#" class="logo">Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ÙÙˆÙ†</a>
    <div class="nav-links">
        <button onclick="showPage('home')" id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <button onclick="showPage('phones')">Ù‡ÙˆØ§ØªÙ</button>
        <button onclick="showPage('acc')">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±</button>
        <button onclick="checkAdminAccess()">âš™ï¸</button>
    </div>
</nav>

<div class="container">
    <div id="home" class="page active">
        <div class="hero">
            <h1>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ÙÙˆÙ†</h1>
            <p>ÙˆØ¬Ù‡ØªÙƒÙ… Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ø£Ø­Ø¯Ø« Ø§Ù„Ù‡ÙˆØ§ØªÙ ÙÙŠ Ù„ÙŠØ¨ÙŠØ§</p>
            
            <div class="visitor-stats">
                <h4 style="margin-top: 0; color: var(--accent);">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø²ÙˆØ§Ø± ÙˆØ§Ù„Ø¯ÙˆÙ„</h4>
                <a href="https://info.flagcounter.com/8uO3">
                    <img src="https://s11.flagcounter.com/count2/8uO3/bg_1E293B/txt_F8FAFC/border_1E293B/columns_3/maxflags_12/viewers_3/labels_1/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0">
                </a>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
                <button class="btn btn-cat" onclick="showPage('phones')">ğŸ“± Ù‚Ø³Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ</button>
                <button class="btn btn-cat" onclick="showPage('acc')">ğŸ§ Ù‚Ø³Ù… Ø§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</button>
            </div>
        </div>
    </div>

    <div id="phones" class="page">
        <h2 style="border-right: 4px solid var(--accent); padding-right: 10px;">ğŸ“± Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h2>
        <div class="products-grid" id="phones-list"></div>
    </div>

    <div id="acc" class="page">
        <h2 style="border-right: 4px solid var(--accent); padding-right: 10px;">ğŸ§ Ø§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©</h2>
        <div class="products-grid" id="acc-list"></div>
    </div>

    <div id="admin-login" class="page">
        <div style="max-width: 350px; margin: 50px auto; text-align: center;" class="admin-box">
            <h3>ğŸ”‘ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>
            <input type="password" id="admin-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button class="btn" style="background: var(--accent); color: black;" onclick="verifyAdmin()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <div id="admin-panel" class="page">
        <div class="admin-box">
            <h3>âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
            <label>Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… (218xxxxxxxx):</label>
            <input type="text" id="store-phone" placeholder="2189xxxxxxxx" onchange="saveSettings()">
            <button class="btn" style="background: var(--danger); color: white; margin-top: 10px;" onclick="logoutAdmin()">Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        </div>

        <div class="admin-box">
            <h3>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
            <input type="text" id="p-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            <input type="number" id="p-price" placeholder="Ø§Ù„Ø³Ø¹Ø± ($)">
            <input type="text" id="p-img" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (URL)">
            <select id="p-type">
                <option value="phone">Ù‡Ø§ØªÙ</option>
                <option value="acc">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±</option>
            </select>
            <button class="btn" style="background: var(--accent); color: black;" onclick="saveProduct()">Ø­ÙØ¸ Ù„Ù„Ù…Ø®Ø²Ù†</button>
        </div>

        <h3>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
        <div id="admin-inventory"></div>
    </div>
</div>

<script>
    const ADMIN_PASSWORD = "admin123";
    const LYD_RATE = 8.28;

    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ 20 Ù…Ù†ØªØ¬Ø§Ù‹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    const initialData = [
        { id: 1, type: 'phone', name: 'iPhone 15 Pro Max', price: 1199, img: 'https://m.media-amazon.com/images/I/81SigAnNnpL._AC_SL1500_.jpg' },
        { id: 2, type: 'phone', name: 'iPhone 15 Pro', price: 999, img: 'https://m.media-amazon.com/images/I/81dT7vHbtZL._AC_SL1500_.jpg' },
        { id: 3, type: 'phone', name: 'Samsung Galaxy S24 Ultra', price: 1250, img: 'https://m.media-amazon.com/images/I/71WjsZ8nEIL._AC_SL1500_.jpg' },
        { id: 4, type: 'phone', name: 'Samsung A54 5G', price: 350, img: 'https://m.media-amazon.com/images/I/61fdfW89X6L._AC_SL1200_.jpg' },
        { id: 5, type: 'phone', name: 'Redmi Note 13 Pro+', price: 420, img: 'https://m.media-amazon.com/images/I/61SOnG9O-5L._AC_SL1200_.jpg' },
        { id: 6, type: 'phone', name: 'iPhone 14 (128GB)', price: 699, img: 'https://m.media-amazon.com/images/I/61cwywLZSuL._AC_SL1500_.jpg' },
        { id: 7, type: 'phone', name: 'Infinix Note 30 VIP', price: 290, img: 'https://m.media-amazon.com/images/I/61vYpX0T6HL._AC_SL1200_.jpg' },
        { id: 8, type: 'phone', name: 'Samsung S23 FE', price: 599, img: 'https://m.media-amazon.com/images/I/719S9nscS6L._AC_SL1500_.jpg' },
        { id: 9, type: 'phone', name: 'Honor 90', price: 450, img: 'https://m.media-amazon.com/images/I/71yI02XfNfL._AC_SL1500_.jpg' },
        { id: 10, type: 'phone', name: 'Realme 11 Pro+', price: 380, img: 'https://m.media-amazon.com/images/I/71vS-I3FfPL._AC_SL1500_.jpg' },
        { id: 11, type: 'acc', name: 'AirPods Pro 2', price: 249, img: 'https://m.media-amazon.com/images/I/61f1YfFpU5L._AC_SL1500_.jpg' },
        { id: 12, type: 'acc', name: 'Apple Watch Series 9', price: 399, img: 'https://m.media-amazon.com/images/I/71X8X8K7BvL._AC_SL1500_.jpg' },
        { id: 13, type: 'acc', name: 'Samsung Buds 2 Pro', price: 180, img: 'https://m.media-amazon.com/images/I/6146u-N9vIL._AC_SL1500_.jpg' },
        { id: 14, type: 'acc', name: 'Ø´Ø§Ø­Ù† Apple 20W Ø£ØµÙ„ÙŠ', price: 25, img: 'https://m.media-amazon.com/images/I/41iWogpZ16L._AC_SL1024_.jpg' },
        { id: 15, type: 'acc', name: 'Ø´Ø§Ø­Ù† Samsung 45W Ø£ØµÙ„ÙŠ', price: 35, img: 'https://m.media-amazon.com/images/I/51fT6p9B21L._AC_SL1500_.jpg' },
        { id: 16, type: 'acc', name: 'Anker PowerBank 20K', price: 55, img: 'https://m.media-amazon.com/images/I/61-9p8B9fPL._AC_SL1500_.jpg' },
        { id: 17, type: 'acc', name: 'Ø³Ù…Ø§Ø¹Ø© P9 Wireless', price: 15, img: 'https://m.media-amazon.com/images/I/61pBclA-8dL._AC_SL1500_.jpg' },
        { id: 18, type: 'acc', name: 'Ultra Smart Watch Copy', price: 45, img: 'https://m.media-amazon.com/images/I/61Z7C-y17rL._AC_SL1500_.jpg' },
        { id: 19, type: 'acc', name: 'Ù„Ø§ØµÙ‚Ø© Ø­Ù…Ø§ÙŠØ© Ø³ÙŠØ±Ø§Ù…ÙŠÙƒ', price: 10, img: 'https://m.media-amazon.com/images/I/61i8S9-A7CL._AC_SL1500_.jpg' },
        { id: 20, type: 'acc', name: 'ØºØ·Ø§Ø¡ Ø­Ù…Ø§ÙŠØ© MagSafe', price: 20, img: 'https://m.media-amazon.com/images/I/61E9S2nNnfL._AC_SL1500_.jpg' }
    ];

    let products = JSON.parse(localStorage.getItem('engStoreV5')) || initialData;
    let storePhone = localStorage.getItem('engPhoneV5') || "218";
    let isAdminAuthenticated = false;

    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active'));
        renderAll();
    }

    function checkAdminAccess() { isAdminAuthenticated ? showPage('admin-panel') : showPage('admin-login'); }

    function verifyAdmin() {
        if(document.getElementById('admin-pass').value === ADMIN_PASSWORD) {
            isAdminAuthenticated = true;
            showPage('admin-panel');
        } else { alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!"); }
    }

    function logoutAdmin() { isAdminAuthenticated = false; showPage('home'); }

    function saveSettings() {
        storePhone = document.getElementById('store-phone').value;
        localStorage.setItem('engPhoneV5', storePhone);
        alert("ØªÙ… Ø­ÙØ¸ Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨");
    }

    function saveProduct() {
        const name = document.getElementById('p-name').value;
        const price = document.getElementById('p-price').value;
        const img = document.getElementById('p-img').value || 'https://via.placeholder.com/200';
        const type = document.getElementById('p-type').value;
        if(!name || !price) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        
        products.push({ id: Date.now(), name, price: parseInt(price), img, type });
        localStorage.setItem('engStoreV5', JSON.stringify(products));
        renderAll();
        document.getElementById('p-name').value = '';
        document.getElementById('p-price').value = '';
    }

    function deleteProduct(id) {
        if(confirm("Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ")) {
            products = products.filter(p => p.id !== id);
            localStorage.setItem('engStoreV5', JSON.stringify(products));
            renderAll();
        }
    }

    function sendOrder(name, price) {
        const msg = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ ÙÙˆÙ†ğŸ‘‹%0AØ·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯: ${name}%0AØ§Ù„Ø³Ø¹Ø±: $${price} (${(price * LYD_RATE).toFixed(2)} Ø¯.Ù„)`;
        window.open(`https://wa.me/${storePhone}?text=${msg}`, '_blank');
    }

    function renderAll() {
        const pList = document.getElementById('phones-list');
        const aList = document.getElementById('acc-list');
        const admInv = document.getElementById('admin-inventory');

        const card = (p) => `
            <div class="product-card">
                <img src="${p.img}" class="product-img" onerror="this.src='https://via.placeholder.com/200'">
                <div class="product-info">
                    <h4 style="margin:0 0 10px 0; height:40px; overflow:hidden;">${p.name}</h4>
                    <div class="price-usd">$${p.price}</div>
                    <div class="price-lyd">${(p.price * LYD_RATE).toFixed(2)} Ø¯.Ù„</div>
                    <button class="btn btn-buy" onclick="sendOrder('${p.name}', ${p.price})">Ø§Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨ âœ…</button>
                </div>
            </div>`;

        pList.innerHTML = products.filter(p => p.type === 'phone').map(card).join('');
        aList.innerHTML = products.filter(p => p.type === 'acc').map(card).join('');

        if(isAdminAuthenticated && admInv) {
            document.getElementById('store-phone').value = storePhone;
            admInv.innerHTML = products.map(p => `
                <div style="background:#0f172a; padding:10px; margin-bottom:5px; border-radius:8px; display:flex; justify-content:space-between; align-items:center;">
                    <span style="font-size:0.8em">${p.name}</span>
                    <button onclick="deleteProduct(${p.id})" style="color:var(--danger); background:none; border:none; cursor:pointer;">âŒ</button>
                </div>
            `).join('');
        }
    }

    renderAll();
</script>
</body>
</html>
